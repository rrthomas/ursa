[
  "let",
  [ "params", "double" ],
  [
    "seq",
    [
      "set",
      [ "ref", "double" ],
      [
        "fn",
        [ "params", "l" ],
        [
          "let",
          [ "params", "i" ],
          [
            "seq",
            [ "set", [ "ref", "i" ], 0 ],
            [
              "loop",
              [
                "seq",
                [
                  "if",
                  [ "=", "i", [ "prop", "length", "l" ] ],
                  [ "return", "l" ]
                ],
                [
                  [ "prop", "set", "l" ],
                  "i",
                  [ "*", [ [ "prop", "get", "l" ], "i" ], 2 ]
                ],
                [ "set", [ "ref", "i" ], [ "+", "i", 1 ] ]
              ]
            ]
          ]
        ]
      ]
    ],
    [ "double", [ "list", 1, 2, 3 ] ]
  ]
]
