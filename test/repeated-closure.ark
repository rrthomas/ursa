(print
  (let [tot]
    (seq
      (prop set (ref tot) 0)
      (let [accum]
        (seq
          (prop set (ref accum)
            (fn [x]
              (prop set (ref tot) (+ tot x))))
          [(accum 1) (accum 1)])))))
